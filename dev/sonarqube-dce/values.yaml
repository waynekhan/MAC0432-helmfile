applicationNodes:
  jwtSecret: "vzrZvlfYpkHqdxXdzPbuNvxkSToQsXRMxrc1zonlkl0="

  plugins:
    install:
      - "https://github.com/dependency-check/dependency-check-sonar-plugin/releases/download/5.0.0/sonar-dependency-check-plugin-5.0.0.jar"

    # netrcCreds: "sonarqube-dce-sonarqube-dce-netrc" # k create secret generic sonarqube-dce-sonarqube-dce-netrc --from-file=netrc=~/.netrc

  prometheusExporter:
    enabled: true

  prometheusMonitoring:
    podMonitor:
      enabled: true
      labels:
        release: "kube-prometheus-stack"

  resources:
    limits:
      memory: "3G"
    requests:
      cpu: "800m"
      memory: "3G"

  sonarProperties:
    sonar.log.level: DEBUG

    sonar.ce.javaOpts: "-Xmx2G"
    sonar.web.javaOpts: "-Xmx512M"

logging:
  jsonOutput: true

monitoringPasscode: "123456"

searchNodes:
  resources:
    limits:
      memory: "5G"
    requests:
      cpu: "400m"
      memory: "5G"

  searchAuthentication:
    enabled: true
    keyStoreSecret: "sonarqube-dce-sonarqube-dce-es-secret" # k create secret generic sonarqube-dce-sonarqube-dce-es-secret --from-file=elastic-stack-ca.p12
    keyStorePasswordSecret: "sonarqube-dce-sonarqube-dce-search-trust-pass" # k create secret generic sonarqube-dce-sonarqube-dce-search-trust-pass --from-literal SONAR_CLUSTER_ES_SSL_KEYSTOREPASSWORD="" --from-literal SONAR_CLUSTER_ES_SSL_TRUSTSTOREPASSWORD=""
    userPassword: "toto" # curl http://elastic:toto@sonarqube-dce-sonarqube-dce-search:9001

  sonarProperties:
    sonar.search.javaOpts: "-Xms4G -Xmx4G"
